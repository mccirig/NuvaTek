<!-- intercept.html -->
<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>--- INTERFERENCIA DETECTADA ---</title>
  <link rel="stylesheet" href="/NuvaTek/styles/common.css">
  <style>
    body{background:#000;color:#a0ff9c;font-family:ui-monospace,SFMono-Regular,Menlo,monospace}
    .center{height:100vh;display:flex;align-items:center;justify-content:center}
    .panel{max-width:900px;padding:2rem;text-align:center}
    .glitch{font-size:1.8rem;letter-spacing:.08em;margin-bottom:1rem;}
    #count{font-weight:700}
    .btn{background:#141;border:1px solid #a0ff9c;padding:.6rem 1rem;border-radius:8px;cursor:pointer;color:red;font-size:1.2em;font-weight:bold;font-family:ui-monospace,SFMono-Regular,Menlo,monospace}
    .warn{color:#ffb86b}
    .doc{background:#111;border:1px dashed #a0ff9c;padding:1rem;margin:1rem 0;text-align:left;font-size:.9rem;line-height:1.4}
  </style>
</head>
<body>
  <div class="center">
    <div class="panel">
      <div class="glitch">HaCkEaDo PoR:</br></br>-[#~[!]_ReCuPeRaDoReS_[!]~#]-</div>
      <p class="warn">Tu conexi&oacute;n fue interceptada. Antes de que NuvaTek te redirija, necesit&aacute;s leer esto.</p>

      <div class="doc">
        <strong>[[[FiLtRaDo]]]</br></br>"Procedimiento 07/14: Programa de Obsolescencia Controlada”</strong><br><br>
        <em>“Todos los dispositivos modelo <span id="deviceName">###</span> deber&aacute; ser&aacute;n degradados silenciosamente con la actualizaci&oacute;n V13.120.66 a partir de su despliegue. El objetivo es forzar su reemplazo en un plazo no mayor a 18 meses. Luego de este per&iacute;odo ning&uacute;n soporte externo ser&aacute; autorizado.”</em>
      </div>

      <p id="hint">NuvaTek intentar&aacute; recuperar la señal en <span id="count">6</span> segundos…</p>

      <div style="margin-top:1rem">
        <button id="stay" class="btn">Sumate a la ReSiStEnCiA!</button>
      </div>

      <p class="small muted" style="margin-top:1rem">Simulación narrativa: no se intercepta tráfico real.</p>
    </div>
  </div>

  <script>
    const params = new URLSearchParams(location.search);
    const device = params.get('device') || 'dispositivo';
    document.getElementById('deviceName').textContent = device;

    // Cuenta regresiva y redirección
    let t = 30;
    const c = document.getElementById('count');
    const id = setInterval(()=>{ 
      t--; 
      c.textContent = t; 
      if(t<=0){ 
        clearInterval(id); 
        location.href = '/NuvaTek/result.html?device=' + encodeURIComponent(device); 
      } 
    }, 1000);

    // Opciones de usuario
    document.getElementById('stay').addEventListener('click', ()=>{
      clearInterval(id);
      location.href = '/NuvaTek/resistance_offers.html?device=' + encodeURIComponent(device);
    });

    document.getElementById('skip').addEventListener('click', ()=>{
      clearInterval(id);
      location.href = '/NuvaTek/result.html?device=' + encodeURIComponent(device);
    });

    // Accesibilidad: tecla ESPACIO para pausar
    window.addEventListener('keydown', e=>{
      if(e.code === 'Space'){
        e.preventDefault();
        clearInterval(id);
        document.getElementById('hint').textContent = 'Interferencia asegurada — espera tu decisión.';
      }
    });
  </script>
</body>
</html>
